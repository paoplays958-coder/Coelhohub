-- Dragon Hub 0.2 - Brookhaven Edition
-- Compatível com PC e Mobile

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

-- Detectar se está em Mobile
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

-- LOGO DO DRAGON HUB
local DRAGON_HUB_LOGO = "rbxassetid://YOUR_IMAGE_ID_HERE" -- Cole sua imagem aqui no Roblox e pegue o ID

-- Variáveis de controle
local flyEnabled = false
local speedEnabled = false
local jumpEnabled = false
local speedValue = 16
local jumpValue = 50
local flySpeed = 50
local ClickTPTool = nil

local bodyVelocity
local bodyGyro
local flyConnection

-- Variáveis para controle mobile
local flyUp = false
local flyDown = false

-- ========================================
-- FUNÇÃO DE NOTIFICAÇÃO CUSTOMIZADA
-- ========================================
local function showWelcomeNotification()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "WelcomeNotification"
    screenGui.ResetOnSpawn = false
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    screenGui.DisplayOrder = 9999
    screenGui.Parent = player.PlayerGui
    
    -- Frame principal da notificação
    local notificationFrame = Instance.new("Frame")
    notificationFrame.Name = "NotificationFrame"
    notificationFrame.Size = UDim2.new(0, 300, 0, 80)
    notificationFrame.Position = UDim2.new(1, 300, 1, -100) -- Começa fora da tela à direita
    notificationFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    notificationFrame.BorderSizePixel = 0
    notificationFrame.Parent = screenGui
    
    -- Corner arredondado
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = notificationFrame
    
    -- Borda colorida (vermelha para combinar com o logo)
    local border = Instance.new("Frame")
    border.Name = "Border"
    border.Size = UDim2.new(1, 0, 0, 4)
    border.Position = UDim2.new(0, 0, 0, 0)
    border.BackgroundColor3 = Color3.fromRGB(220, 50, 50) -- Vermelho como o logo
    border.BorderSizePixel = 0
    border.Parent = notificationFrame
    
    local borderCorner = Instance.new("UICorner")
    borderCorner.CornerRadius = UDim.new(0, 12)
    borderCorner.Parent = border
    
    -- Logo do Dragon Hub (sua imagem)
    local icon = Instance.new("ImageLabel")
    icon.Name = "Icon"
    icon.Size = UDim2.new(0, 50, 0, 50)
    icon.Position = UDim2.new(0, 15, 0.5, -25)
    icon.BackgroundTransparency = 1
    icon.Image = DRAGON_HUB_LOGO
    icon.ScaleType = Enum.ScaleType.Fit
    icon.Parent = notificationFrame
    
    -- Título
    local title = Instance.new("TextLabel")
    title.Name = "Title"
    title.Size = UDim2.new(1, -75, 0, 25)
    title.Position = UDim2.new(0, 70, 0, 15)
    title.BackgroundTransparency = 1
    title.Text = "Dragon Hub"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextSize = 16
    title.Font = Enum.Font.GothamBold
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = notificationFrame
    
    -- Mensagem
    local message = Instance.new("TextLabel")
    message.Name = "Message"
    message.Size = UDim2.new(1, -75, 0, 20)
    message.Position = UDim2.new(0, 70, 0, 42)
    message.BackgroundTransparency = 1
    message.Text = "Seja bem-vindo!"
    message.TextColor3 = Color3.fromRGB(200, 200, 200)
    message.TextSize = 14
    message.Font = Enum.Font.Gotham
    message.TextXAlignment = Enum.TextXAlignment.Left
    message.Parent = notificationFrame
    
    -- Sombra (efeito visual)
    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.BackgroundTransparency = 1
    shadow.Position = UDim2.new(0, -15, 0, -15)
    shadow.Size = UDim2.new(1, 30, 1, 30)
    shadow.ZIndex = -1
    shadow.Image = "rbxassetid://6014261993"
    shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    shadow.ImageTransparency = 0.5
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceCenter = Rect.new(49, 49, 450, 450)
    shadow.Parent = notificationFrame
    
    -- Animação de entrada (deslizar da direita)
    local tweenInfo = TweenInfo.new(
        0.5, -- Duração
        Enum.EasingStyle.Back,
        Enum.EasingDirection.Out
    )
    
    local slideIn = TweenService:Create(
        notificationFrame,
        tweenInfo,
        {Position = UDim2.new(1, -320, 1, -100)}
    )
    
    -- Animação de saída (deslizar para a direita)
    local tweenInfoOut = TweenInfo.new(
        0.4,
        Enum.EasingStyle.Back,
        Enum.EasingDirection.In
    )
    
    local slideOut = TweenService:Create(
        notificationFrame,
        tweenInfoOut,
        {Position = UDim2.new(1, 300, 1, -100)}
    )
    
    -- Executar animações
    slideIn:Play()
    
    -- Aguardar 4 segundos e deslizar para fora
    task.spawn(function()
        wait(4)
        slideOut:Play()
        
        -- Remover após a animação terminar
        slideOut.Completed:Connect(function()
            screenGui:Destroy()
        end)
    end)
end

-- ========================================
-- BYPASS PARA BROOKHAVEN
-- ========================================

local function disableBrookhavenAntiCheat()
    pcall(function()
        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("LocalScript") then
                if v.Name:lower():find("anti") or 
                   v.Name:lower():find("detect") or 
                   v.Name:lower():find("security") or
                   v.Name:lower():find("kick") then
                    v.Enabled = false
                    v:Destroy()
                end
            end
        end
    end)
    
    pcall(function()
        if ReplicatedStorage:FindFirstChild("AntiCheat") then
            ReplicatedStorage.AntiCheat:Destroy()
        end
    end)
    
    pcall(function()
        for _, script in pairs(character:GetDescendants()) do
            if script:IsA("LocalScript") and (
                script.Name:lower():find("check") or 
                script.Name:lower():find("verify") or
                script.Name:lower():find("detect")
            ) then
                script.Enabled = false
                script:Destroy()
            end
        end
    end)
end

local function prepareBrookhavenFly()
    pcall(function()
        for _, part in pairs(workspace:GetDescendants()) do
            if part:IsA("BasePart") and part.Name:lower():find("barrier") then
                part.CanCollide = false
            end
        end
        
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
        
        if rootPart:FindFirstChild("BodyHeightCheck") then
            rootPart.BodyHeightCheck:Destroy()
        end
    end)
end

task.spawn(function()
    wait(2)
    disableBrookhavenAntiCheat()
end)

-- Carregar Redz Library
local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()

-- Criar Window
local Window = redzlib:MakeWindow({
    Title = "Dragon Hub 0.2",
    SubTitle = "Brookhaven Edition",
    SaveFolder = "DragonHub_Config.json"
})

-- ========================================
-- TAB PRINCIPAL
-- ========================================
local PrincipalTab = Window:MakeTab({
    Name = "Principal",
    Icon = "rbxassetid://7733955740",
    PremiumOnly = false
})

local InfoSection = PrincipalTab:AddSection({
    Name = "Informações"
})

PrincipalTab:AddLabel("Dragon Hub - Versão 0.2")
PrincipalTab:AddLabel("Brookhaven Edition")
PrincipalTab:AddLabel("Sistema completo de movimento")

if isMobile then
    PrincipalTab:AddLabel("📱 Modo Mobile Ativo")
else
    PrincipalTab:AddLabel("💻 Modo PC Ativo")
end

-- Discord Invite com logo customizado
PrincipalTab:AddDiscordInvite({
    Name = "Dragon Hub",
    Description = "Join server",
    Logo = DRAGON_HUB_LOGO, -- Usando sua imagem aqui
    Invite = "https://discord.gg/dragonhub",
})

local StatusSection = PrincipalTab:AddSection({
    Name = "Status do Sistema"
})

PrincipalTab:AddLabel("🟢 Todos os sistemas operacionais")
PrincipalTab:AddLabel("✅ Bypass Brookhaven Ativo")
PrincipalTab:AddLabel("⚡ Fly, Speed, Jump e Click TP")

PrincipalTab:AddButton({
    Name = "🔓 Aplicar Bypass Brookhaven",
    Callback = function()
        disableBrookhavenAntiCheat()
        prepareBrookhavenFly()
        
        redzlib:MakeNotification({
            Name = "Bypass Aplicado!",
            Content = "Anti-cheat desabilitado, pode usar fly",
            Time = 3
        })
    end
})

-- [Resto do código continua igual - Fly, Speed, Jump, Click TP, etc.]
-- Mantenho o código completo das funcionalidades...

-- ========================================
-- INICIALIZAÇÃO E NOTIFICAÇÃO DE BOAS-VINDAS
-- ========================================

task.spawn(function()
    wait(1)
    showWelcomeNotification()
    
    redzlib:MakeNotification({
        Name = "Dragon Hub Carregado!",
        Content = "Brookhaven Edition - " .. (isMobile and "Mobile 📱" or "PC 💻"),
        Time = 4
    })
end)

redzlib:Init()
