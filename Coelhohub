-- Dragon Hub 0.2 - Brookhaven Edition - C√ìDIGO COMPLETO COM VE√çCULOS
-- Compat√≠vel com PC e Mobile

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

-- Detectar se est√° em Mobile
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

-- LOGO DO DRAGON HUB (SUBSTITUA PELO ID DA SUA IMAGEM)
local DRAGON_HUB_LOGO = "rbxassetid://18751483361"

-- Vari√°veis de controle
local flyEnabled = false
local speedEnabled = false
local jumpEnabled = false
local speedValue = 16
local jumpValue = 50
local flySpeed = 50
local ClickTPTool = nil

local bodyVelocity
local bodyGyro
local flyConnection

-- Vari√°veis para controle mobile
local flyUp = false
local flyDown = false

-- Vari√°veis de ve√≠culos
local selectedVehicle = "Sedan"
local spawnAmount = 5
local autoRepairEnabled = false
local infiniteSpeedEnabled = false

-- ========================================
-- FUN√á√ÉO DE NOTIFICA√á√ÉO CUSTOMIZADA
-- ========================================
local function showWelcomeNotification()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "WelcomeNotification"
    screenGui.ResetOnSpawn = false
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    screenGui.DisplayOrder = 9999
    screenGui.Parent = player.PlayerGui
    
    local notificationFrame = Instance.new("Frame")
    notificationFrame.Name = "NotificationFrame"
    notificationFrame.Size = UDim2.new(0, 300, 0, 80)
    notificationFrame.Position = UDim2.new(1, 300, 1, -100)
    notificationFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    notificationFrame.BorderSizePixel = 0
    notificationFrame.Parent = screenGui
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = notificationFrame
    
    local border = Instance.new("Frame")
    border.Name = "Border"
    border.Size = UDim2.new(1, 0, 0, 4)
    border.Position = UDim2.new(0, 0, 0, 0)
    border.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
    border.BorderSizePixel = 0
    border.Parent = notificationFrame
    
    local borderCorner = Instance.new("UICorner")
    borderCorner.CornerRadius = UDim.new(0, 12)
    borderCorner.Parent = border
    
    local icon = Instance.new("ImageLabel")
    icon.Name = "Icon"
    icon.Size = UDim2.new(0, 50, 0, 50)
    icon.Position = UDim2.new(0, 15, 0.5, -25)
    icon.BackgroundTransparency = 1
    icon.Image = DRAGON_HUB_LOGO
    icon.ScaleType = Enum.ScaleType.Fit
    icon.Parent = notificationFrame
    
    local title = Instance.new("TextLabel")
    title.Name = "Title"
    title.Size = UDim2.new(1, -75, 0, 25)
    title.Position = UDim2.new(0, 70, 0, 15)
    title.BackgroundTransparency = 1
    title.Text = "Dragon Hub"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextSize = 16
    title.Font = Enum.Font.GothamBold
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = notificationFrame
    
    local message = Instance.new("TextLabel")
    message.Name = "Message"
    message.Size = UDim2.new(1, -75, 0, 20)
    message.Position = UDim2.new(0, 70, 0, 42)
    message.BackgroundTransparency = 1
    message.Text = "Seja bem-vindo!"
    message.TextColor3 = Color3.fromRGB(200, 200, 200)
    message.TextSize = 14
    message.Font = Enum.Font.Gotham
    message.TextXAlignment = Enum.TextXAlignment.Left
    message.Parent = notificationFrame
    
    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.BackgroundTransparency = 1
    shadow.Position = UDim2.new(0, -15, 0, -15)
    shadow.Size = UDim2.new(1, 30, 1, 30)
    shadow.ZIndex = -1
    shadow.Image = "rbxassetid://6014261993"
    shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    shadow.ImageTransparency = 0.5
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceCenter = Rect.new(49, 49, 450, 450)
    shadow.Parent = notificationFrame
    
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
    local slideIn = TweenService:Create(notificationFrame, tweenInfo, {Position = UDim2.new(1, -320, 1, -100)})
    
    local tweenInfoOut = TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.In)
    local slideOut = TweenService:Create(notificationFrame, tweenInfoOut, {Position = UDim2.new(1, 300, 1, -100)})
    
    slideIn:Play()
    
    task.spawn(function()
        wait(4)
        slideOut:Play()
        slideOut.Completed:Connect(function()
            screenGui:Destroy()
        end)
    end)
end

-- ========================================
-- BYPASS PARA BROOKHAVEN
-- ========================================
local function disableBrookhavenAntiCheat()
    pcall(function()
        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("LocalScript") then
                if v.Name:lower():find("anti") or v.Name:lower():find("detect") or v.Name:lower():find("security") or v.Name:lower():find("kick") then
                    v.Enabled = false
                    v:Destroy()
                end
            end
        end
    end)
    
    pcall(function()
        if ReplicatedStorage:FindFirstChild("AntiCheat") then
            ReplicatedStorage.AntiCheat:Destroy()
        end
    end)
end

local function prepareBrookhavenFly()
    pcall(function()
        for _, part in pairs(workspace:GetDescendants()) do
            if part:IsA("BasePart") and part.Name:lower():find("barrier") then
                part.CanCollide = false
            end
        end
        
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
    end)
end

task.spawn(function()
    wait(2)
    disableBrookhavenAntiCheat()
end)

-- Carregar Redz Library
local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()

-- Criar Window
local Window = redzlib:MakeWindow({
    Title = "Dragon Hub 0.2",
    SubTitle = "Brookhaven Edition",
    SaveFolder = "DragonHub_Config.json"
})

-- ========================================
-- TAB PRINCIPAL
-- ========================================
local PrincipalTab = Window:MakeTab({
    Name = "Principal",
    Icon = "rbxassetid://7733955740",
    PremiumOnly = false
})

PrincipalTab:AddSection({Name = "Informa√ß√µes"})

PrincipalTab:AddLabel("Dragon Hub - Vers√£o 0.2")
PrincipalTab:AddLabel("Brookhaven Edition")
PrincipalTab:AddLabel("Sistema completo de movimento")

if isMobile then
    PrincipalTab:AddLabel("üì± Modo Mobile Ativo")
else
    PrincipalTab:AddLabel("üíª Modo PC Ativo")
end

PrincipalTab:AddDiscordInvite({
    Name = "Dragon Hub",
    Description = "Join server",
    Logo = DRAGON_HUB_LOGO,
    Invite = "https://discord.gg/dragonhub",
})

PrincipalTab:AddSection({Name = "Status do Sistema"})

PrincipalTab:AddLabel("üü¢ Todos os sistemas operacionais")
PrincipalTab:AddLabel("‚úÖ Bypass Brookhaven Ativo")
PrincipalTab:AddLabel("‚ö° Fly, Speed, Jump, Click TP e Ve√≠culos")

PrincipalTab:AddButton({"üîì Aplicar Bypass Brookhaven", function()
    disableBrookhavenAntiCheat()
    prepareBrookhavenFly()
    
    redzlib:MakeNotification({
        Name = "Bypass Aplicado!",
        Content = "Anti-cheat desabilitado",
        Time = 3
    })
end})

-- ========================================
-- CRIAR BOT√ïES DE FLY PARA MOBILE
-- ========================================
local flyButtons = nil

local function createMobileFlyButtons()
    if not isMobile then return end
    
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "FlyControls"
    screenGui.ResetOnSpawn = false
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    screenGui.DisplayOrder = 999
    screenGui.Parent = player.PlayerGui
    
    local upButton = Instance.new("TextButton")
    upButton.Size = UDim2.new(0, 70, 0, 70)
    upButton.Position = UDim2.new(1, -90, 0.5, -150)
    upButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    upButton.BackgroundTransparency = 0.3
    upButton.Text = "‚¨ÜÔ∏è"
    upButton.TextSize = 30
    upButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    upButton.Font = Enum.Font.GothamBold
    upButton.Parent = screenGui
    
    local upCorner = Instance.new("UICorner")
    upCorner.CornerRadius = UDim.new(0, 15)
    upCorner.Parent = upButton
    
    local downButton = Instance.new("TextButton")
    downButton.Size = UDim2.new(0, 70, 0, 70)
    downButton.Position = UDim2.new(1, -90, 0.5, -70)
    downButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    downButton.BackgroundTransparency = 0.3
    downButton.Text = "‚¨áÔ∏è"
    downButton.TextSize = 30
    downButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    downButton.Font = Enum.Font.GothamBold
    downButton.Parent = screenGui
    
    local downCorner = Instance.new("UICorner")
    downCorner.CornerRadius = UDim.new(0, 15)
    downCorner.Parent = downButton
    
    upButton.MouseButton1Down:Connect(function()
        flyUp = true
        upButton.BackgroundColor3 = Color3.fromRGB(100, 200, 100)
    end)
    
    upButton.MouseButton1Up:Connect(function()
        flyUp = false
        upButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    end)
    
    downButton.MouseButton1Down:Connect(function()
        flyDown = true
        downButton.BackgroundColor3 = Color3.fromRGB(200, 100, 100)
    end)
    
    downButton.MouseButton1Up:Connect(function()
        flyDown = false
        downButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    end)
    
    screenGui.Enabled = false
    return screenGui
end

local function removeMobileFlyButtons()
    if flyButtons then
        flyButtons:Destroy()
        flyButtons = nil
    end
end

-- ========================================
-- TAB FLY
-- ========================================
local FlyTab = Window:MakeTab({
    Name = "Fly",
    Icon = "rbxassetid://7733764088",
    PremiumOnly = false
})

FlyTab:AddSection({Name = "Sistema de Voo - Brookhaven"})

if isMobile then
    FlyTab:AddLabel("üì± Use o joystick para mover")
    FlyTab:AddLabel("Use os bot√µes ‚¨ÜÔ∏è‚¨áÔ∏è para subir/descer")
else
    FlyTab:AddLabel("üíª Use W/A/S/D para mover")
    FlyTab:AddLabel("Espa√ßo para subir, Shift para descer")
end

FlyTab:AddLabel("‚ö†Ô∏è Fly otimizado para Brookhaven")

local function cleanupFly()
    if flyConnection then
        flyConnection:Disconnect()
        flyConnection = nil
    end
    
    if bodyVelocity then
        bodyVelocity:Destroy()
        bodyVelocity = nil
    end
    
    if bodyGyro then
        bodyGyro:Destroy()
        bodyGyro = nil
    end
    
    if rootPart then
        for _, child in pairs(rootPart:GetChildren()) do
            if child:IsA("BodyVelocity") or child:IsA("BodyGyro") then
                child:Destroy()
            end
        end
    end
    
    if flyButtons then
        flyButtons.Enabled = false
    end
    
    flyUp = false
    flyDown = false
end

local function isCharacterValid()
    return player.Character 
        and player.Character:FindFirstChild("Humanoid") 
        and player.Character:FindFirstChild("HumanoidRootPart")
        and player.Character.Humanoid.Health > 0
end

local function keepFlyActive()
    if not flyEnabled then return end
    
    task.spawn(function()
        while flyEnabled do
            wait(5)
            disableBrookhavenAntiCheat()
            
            if not bodyVelocity or not bodyGyro then
                if flyEnabled then
                    local wasEnabled = flyEnabled
                    stopFly()
                    wait(0.5)
                    if wasEnabled then
                        startFly()
                    end
                end
            end
        end
    end)
end

local function startFly()
    if flyEnabled then
        redzlib:MakeNotification({
            Name = "Aviso",
            Content = "Fly j√° est√° ativo!",
            Time = 2
        })
        return
    end
    
    disableBrookhavenAntiCheat()
    prepareBrookhavenFly()
    cleanupFly()
    
    character = player.Character
    if not isCharacterValid() then
        redzlib:MakeNotification({
            Name = "Erro",
            Content = "Personagem inv√°lido!",
            Time = 3
        })
        return
    end
    
    rootPart = character:FindFirstChild("HumanoidRootPart")
    humanoid = character:FindFirstChild("Humanoid")
    
    if not rootPart or not humanoid then
        redzlib:MakeNotification({
            Name = "Erro",
            Content = "Componentes n√£o encontrados!",
            Time = 3
        })
        return
    end
    
    flyEnabled = true
    
    if isMobile and not flyButtons then
        flyButtons = createMobileFlyButtons()
    end
    if flyButtons then
        flyButtons.Enabled = true
    end
    
    humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
    humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
    
    bodyGyro = Instance.new("BodyGyro")
    bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    bodyGyro.P = 9000
    bodyGyro.D = 500
    bodyGyro.Parent = rootPart
    
    bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
    bodyVelocity.Velocity = Vector3.new(0, 0.1, 0)
    bodyVelocity.P = 1250
    bodyVelocity.Parent = rootPart
    
    keepFlyActive()
    
    flyConnection = RunService.Heartbeat:Connect(function()
        if not isCharacterValid() or not flyEnabled then
            stopFly()
            return
        end
        
        if not bodyVelocity or not bodyGyro or not bodyVelocity.Parent or not bodyGyro.Parent then
            return
        end
        
        local camera = workspace.CurrentCamera
        local speed = flySpeed
        local moveVector = Vector3.new(0, 0, 0)
        
        if isMobile then
            local humanoidMoveDir = humanoid.MoveDirection
            if humanoidMoveDir.Magnitude > 0 then
                local cameraCFrame = camera.CFrame
                local moveX = humanoidMoveDir.X
                local moveZ = humanoidMoveDir.Z
                
                moveVector = (cameraCFrame.RightVector * moveX) + (cameraCFrame.LookVector * -moveZ)
            end
            
            if flyUp then
                moveVector = moveVector + Vector3.new(0, 1, 0)
            end
            if flyDown then
                moveVector = moveVector - Vector3.new(0, 1, 0)
            end
        else
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                moveVector = moveVector + camera.CFrame.LookVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                moveVector = moveVector - camera.CFrame.LookVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                moveVector = moveVector - camera.CFrame.RightVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                moveVector = moveVector + camera.CFrame.RightVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                moveVector = moveVector + Vector3.new(0, 1, 0)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) or UserInputService:IsKeyDown(Enum.KeyCode.RightShift) then
                moveVector = moveVector - Vector3.new(0, 1, 0)
            end
        end
        
        if moveVector.Magnitude > 0 then
            bodyVelocity.Velocity = moveVector.Unit * speed
        else
            bodyVelocity.Velocity = Vector3.new(0, 0.1, 0)
        end
        
        bodyGyro.CFrame = camera.CFrame
    end)
    
    redzlib:MakeNotification({
        Name = "Fly Ativado!",
        Content = "Sistema otimizado para Brookhaven ‚úÖ",
        Time = 3
    })
end

local function stopFly()
    flyEnabled = false
    cleanupFly()
    
    if humanoid then
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
    end
    
    redzlib:MakeNotification({
        Name = "Fly Desativado",
        Content = "Sistema de voo foi desligado.",
        Time = 2
    })
end

local FlyToggle = FlyTab:AddToggle({
    Name = "Ativar Fly",
    Description = "Ative o sistema de <font color='rgb(220, 50, 50)'>voo</font> otimizado para Brookhaven",
    Default = false
})

FlyToggle:Callback(function(value)
    if value then
        startFly()
    else
        stopFly()
    end
end)

FlyTab:AddSlider({
    Name = "Velocidade do Fly",
    Min = 10,
    Max = 200,
    Default = 50,
    Increment = 5,
    Callback = function(value)
        flySpeed = value
    end
})

FlyTab:AddSection({Name = "Velocidades Predefinidas"})

FlyTab:AddButton({"Lento (30)", function()
    flySpeed = 30
end})

FlyTab:AddButton({"Normal (50)", function()
    flySpeed = 50
end})

FlyTab:AddButton({"R√°pido (100)", function()
    flySpeed = 100
end})

FlyTab:AddButton({"Muito R√°pido (200)", function()
    flySpeed = 200
end})

FlyTab:AddSection({Name = "Corre√ß√£o"})

FlyTab:AddButton({"üîß Resetar Fly", function()
    stopFly()
    wait(0.5)
    disableBrookhavenAntiCheat()
    prepareBrookhavenFly()
    
    redzlib:MakeNotification({
        Name = "Fly Resetado",
        Content = "Sistema limpo e bypass reaplicado",
        Time = 3
    })
end})

-- ========================================
-- TAB SPEED
-- ========================================
local SpeedTab = Window:MakeTab({
    Name = "Speed",
    Icon = "rbxassetid://7733764088",
    PremiumOnly = false
})

SpeedTab:AddSection({Name = "Sistema de Velocidade"})
SpeedTab:AddLabel("Configure sua velocidade de corrida")

local SpeedToggle = SpeedTab:AddToggle({
    Name = "Ativar Speed",
    Description = "Ative a <font color='rgb(100, 200, 255)'>velocidade</font> customizada",
    Default = false
})

SpeedToggle:Callback(function(value)
    speedEnabled = value
    if speedEnabled then
        humanoid.WalkSpeed = speedValue
        redzlib:MakeNotification({
            Name = "Speed Ativado!",
            Content = "Velocidade: " .. speedValue,
            Time = 2
        })
    else
        humanoid.WalkSpeed = 16
        redzlib:MakeNotification({
            Name = "Speed Desativado",
            Content = "Velocidade restaurada",
            Time = 2
        })
    end
end)

SpeedTab:AddSlider({
    Name = "Velocidade",
    Min = 0,
    Max = 100,
    Default = 16,
    Increment = 1,
    Callback = function(value)
        speedValue = value
        if speedEnabled then
            humanoid.WalkSpeed = speedValue
        end
    end
})

RunService.Heartbeat:Connect(function()
    if speedEnabled and humanoid then
        humanoid.WalkSpeed = speedValue
    end
end)

SpeedTab:AddSection({Name = "Velocidades Predefinidas"})

SpeedTab:AddButton({"Normal (16)", function()
    speedValue = 16
    if speedEnabled then humanoid.WalkSpeed = speedValue end
end})

SpeedTab:AddButton({"R√°pido (30)", function()
    speedValue = 30
    if speedEnabled then humanoid.WalkSpeed = speedValue end
end})

SpeedTab:AddButton({"Muito R√°pido (50)", function()
    speedValue = 50
    if speedEnabled then humanoid.WalkSpeed = speedValue end
end})

SpeedTab:AddButton({"Super R√°pido (100)", function()
    speedValue = 100
    if speedEnabled then humanoid.WalkSpeed = speedValue end
end})

-- ========================================
-- TAB JUMP
-- ========================================
local JumpTab = Window:MakeTab({
    Name = "Jump",
    Icon = "rbxassetid://7733764088",
    PremiumOnly = false
})

JumpTab:AddSection({Name = "Sistema de Pulo"})
JumpTab:AddLabel("Configure a for√ßa do seu pulo")

local JumpToggle = JumpTab:AddToggle({
    Name = "Ativar Jump Power",
    Description = "Ative o <font color='rgb(100, 255, 100)'>pulo</font> aprimorado",
    Default = false
})

JumpToggle:Callback(function(value)
    jumpEnabled = value
    if jumpEnabled then
        humanoid.JumpPower = jumpValue
        redzlib:MakeNotification({
            Name = "Jump Ativado!",
            Content = "For√ßa de pulo: " .. jumpValue,
            Time = 2
        })
    else
        humanoid.JumpPower = 50
        redzlib:MakeNotification({
            Name = "Jump Desativado",
            Content = "For√ßa restaurada",
            Time = 2
        })
    end
end)

JumpTab:AddSlider({
    Name = "For√ßa do Pulo",
    Min = 0,
    Max = 200,
    Default = 50,
    Increment = 5,
    Callback = function(value)
        jumpValue = value
        if jumpEnabled then
            humanoid.JumpPower = jumpValue
        end
    end
})

RunService.Heartbeat:Connect(function()
    if jumpEnabled and humanoid then
        humanoid.JumpPower = jumpValue
    end
end)

JumpTab:AddSection({Name = "For√ßas Predefinidas"})

JumpTab:AddButton({"Normal (50)", function()
    jumpValue = 50
    if jumpEnabled then humanoid.JumpPower = jumpValue end
end})

JumpTab:AddButton({"Alto (100)", function()
    jumpValue = 100
    if jumpEnabled then humanoid.JumpPower = jumpValue end
end})

JumpTab:AddButton({"Muito Alto (150)", function()
    jumpValue = 150
    if jumpEnabled then humanoid.JumpPower = jumpValue end
end})

JumpTab:AddButton({"Super Alto (200)", function()
    jumpValue = 200
    if jumpEnabled then humanoid.JumpPower = jumpValue end
end})

-- ========================================
-- TAB CLICK TP
-- ========================================
local ClickTPTab = Window:MakeTab({
    Name = "Click TP",
    Icon = "rbxassetid://7733764088",
    PremiumOnly = false
})

ClickTPTab:AddSection({Name = "Teleporte por Clique"})

if isMobile then
    ClickTPTab:AddLabel("üì± Toque na tela onde quer ir")
else
    ClickTPTab:AddLabel("üíª Clique onde quer ir")
end
ClickTPTab:AddLabel("Equipe a ferramenta primeiro")

ClickTPTab:AddButton({"Ativar Click TP", function()
    if ClickTPTool then
        ClickTPTool:Destroy()
    end
    
    ClickTPTool = Instance.new("Tool")
    ClickTPTool.Name = "Click Teleport"
    ClickTPTool.RequiresHandle = false
    ClickTPTool.CanBeDropped = false
    
    ClickTPTool.Activated:Connect(function()
        local mouse = player:GetMouse()
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.Position + Vector3.new(0, 3, 0))
            
            redzlib:MakeNotification({
                Name = "Teleportado!",
                Content = "Voc√™ foi teleportado",
                Time = 2
            })
        end
    end)
    
    ClickTPTool.Parent = player.Backpack
    
    redzlib:MakeNotification({
        Name = "Ferramenta Recebida!",
        Content = "Equipe e " .. (isMobile and "toque" or "clique"),
        Time = 4
    })
end})

ClickTPTab:AddButton({"Desativar Click TP", function()
    if ClickTPTool then
        ClickTPTool:Destroy()
        ClickTPTool = nil
        
        redzlib:MakeNotification({
            Name = "Removido!",
            Content = "Ferramenta de TP removida",
            Time = 3
        })
    else
        redzlib:MakeNotification({
            Name = "Aviso",
            Content = "Nenhuma ferramenta ativa",
            Time = 2
        })
    end
end})

-- ========================================
-- TAB VE√çCULOS
-- ========================================
local VehiclesTab = Window:MakeTab({
    Name = "Ve√≠culos",
    Icon = "rbxassetid://7733779730",
    PremiumOnly = false
})

VehiclesTab:AddSection({Name = "Sistema de Spawn de Ve√≠culos"})

VehiclesTab:AddLabel("Spawne at√© 10 ve√≠culos de uma vez!")
VehiclesTab:AddLabel("Selecione o ve√≠culo e clique em spawnar")

-- Lista de ve√≠culos dispon√≠veis no Brookhaven
local vehiclesList = {
    "Sedan",
    "SUV",
    "Pickup",
    "Van",
    "SportsCar",
    "Tesla",
    "Jeep",
    "Convertible",
    "Limousine",
    "RaceCar",
    "MonsterTruck",
    "Ambulance",
    "FireTruck",
    "PoliceCar",
    "SwatVan",
    "Boat",
    "JetSki",
    "Yacht",
    "Helicopter",
    "PrivateJet",
    "Motorcycle",
    "Bicycle",
    "Scooter",
    "GoKart",
    "Tractor",
    "IceCreamTruck",
    "SchoolBus",
    "TourBus"
}

VehiclesTab:AddDropdown({
    Name = "Selecionar Ve√≠culo",
    Options = vehiclesList,
    Default = "Sedan",
    Callback = function(value)
        selectedVehicle = value
        redzlib:MakeNotification({
            Name = "Ve√≠culo Selecionado",
            Content = value .. " foi selecionado",
            Time = 2
        })
    end
})

VehiclesTab:AddSlider({
    Name = "Quantidade de Ve√≠culos",
    Min = 1,
    Max = 10,
    Default = 5,
    Increment = 1,
    Callback = function(value)
        spawnAmount = value
    end
})

VehiclesTab:AddSection({Name = "Spawn de Ve√≠culos"})

local function spawnVehicles(vehicleName, amount)
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    
    local spawnVehicleRemote = nil
    
    pcall(function()
        for _, remote in pairs(ReplicatedStorage:GetDescendants()) do
            if remote:IsA("RemoteEvent") or remote:IsA("RemoteFunction") then
                if remote.Name:lower():find("vehicle") or 
                   remote.Name:lower():find("spawn") or
                   remote.Name:lower():find("car") then
                    spawnVehicleRemote = remote
                    break
                end
            end
        end
    end)
    
    if not spawnVehicleRemote then
        redzlib:MakeNotification({
            Name = "Erro",
            Content = "Sistema de ve√≠culos n√£o encontrado",
            Time = 3
        })
        return
    end
    
    local spawnedCount = 0
    for i = 1, amount do
        pcall(function()
            if spawnVehicleRemote:IsA("RemoteEvent") then
                spawnVehicleRemote:FireServer(vehicleName)
            elseif spawnVehicleRemote:IsA("RemoteFunction") then
                spawnVehicleRemote:InvokeServer(vehicleName)
            end
            spawnedCount = spawnedCount + 1
            wait(0.1)
        end)
    end
    
    redzlib:MakeNotification({
        Name = "Ve√≠culos Spawnados!",
        Content = spawnedCount .. "x " .. vehicleName .. " spawnados",
        Time = 3
    })
end

local function spawnVehiclesBrookhaven(vehicleName, amount)
    local success = false
    
    pcall(function()
        local vehicleFolder = workspace:FindFirstChild("Vehicles") or workspace:FindFirstChild("Cars")
        if vehicleFolder then
            local vehicleModel = vehicleFolder:FindFirstChild(vehicleName)
            if vehicleModel then
                for i = 1, amount do
                    local clone = vehicleModel:Clone()
                    local offset = Vector3.new(i * 10, 0, 0)
                    clone:SetPrimaryPartCFrame(rootPart.CFrame + offset)
                    clone.Parent = workspace
                    wait(0.1)
                end
                success = true
            end
        end
    end)
    
    if success then
        redzlib:MakeNotification({
            Name = "Ve√≠culos Spawnados!",
            Content = amount .. "x " .. vehicleName,
            Time = 3
        })
    else
        spawnVehicles(vehicleName, amount)
    end
end

VehiclesTab:AddButton({"üöó Spawnar Ve√≠culos", function()
    if not selectedVehicle then
        redzlib:MakeNotification({
            Name = "Erro",
            Content = "Selecione um ve√≠culo primeiro",
            Time = 2
        })
        return
    end
    
    redzlib:MakeNotification({
        Name = "Spawnando...",
        Content = "Spawnando " .. spawnAmount .. "x " .. selectedVehicle,
        Time = 2
    })
    
    task.spawn(function()
        spawnVehiclesBrookhaven(selectedVehicle, spawnAmount)
    end)
end})

VehiclesTab:AddSection({Name = "Spawn R√°pido"})

VehiclesTab:AddButton({"üöì 5x Police Car", function()
    selectedVehicle = "PoliceCar"
    spawnVehiclesBrookhaven("PoliceCar", 5)
end})

VehiclesTab:AddButton({"üöë 5x Ambulance", function()
    selectedVehicle = "Ambulance"
    spawnVehiclesBrookhaven("Ambulance", 5)
end})

VehiclesTab:AddButton({"üèéÔ∏è 5x Sports Car", function()
    selectedVehicle = "SportsCar"
    spawnVehiclesBrookhaven("SportsCar", 5)
end})

VehiclesTab:AddButton({"üöÅ 5x Helicopter", function()
    selectedVehicle = "Helicopter"
    spawnVehiclesBrookhaven("Helicopter", 5)
end})

VehiclesTab:AddButton({"üöô 5x SUV", function()
    selectedVehicle = "SUV"
    spawnVehiclesBrookhaven("SUV", 5)
end})

VehiclesTab:AddSection({Name = "Gerenciar Ve√≠culos"})

VehiclesTab:AddButton({"üóëÔ∏è Deletar Todos os Ve√≠culos", function()
    local deletedCount = 0
    
    pcall(function()
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("VehicleSeat") or obj:FindFirstChild("VehicleSeat") then
                local vehicle = obj:FindFirstAncestorOfClass("Model")
                if vehicle then
                    vehicle:Destroy()
                    deletedCount = deletedCount + 1
                end
            end
        end
    end)
    
    redzlib:MakeNotification({
        Name = "Ve√≠culos Deletados",
        Content = deletedCount .. " ve√≠culos foram removidos",
        Time = 3
    })
end})

VehiclesTab:AddButton({"üìç Trazer Ve√≠culos Para Mim", function()
    local movedCount = 0
    
    pcall(function()
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("VehicleSeat") then
                local vehicle = obj:FindFirstAncestorOfClass("Model")
                if vehicle and vehicle.PrimaryPart then
                    local angle = (movedCount * 45) * math.pi / 180
                    local distance = 15
                    local offset = Vector3.new(
                        math.cos(angle) * distance,
                        5,
                        math.sin(angle) * distance
                    )
                    
                    vehicle:SetPrimaryPartCFrame(rootPart.CFrame + offset)
                    movedCount = movedCount + 1
                    
                    if movedCount >= 8 then break end
                end
            end
        end
    end)
    
    redzlib:MakeNotification({
        Name = "Ve√≠culos Movidos",
        Content = movedCount .. " ve√≠culos foram trazidos",
        Time = 3
    })
end})

VehiclesTab:AddSection({Name = "Op√ß√µes Especiais"})

local AutoRepairToggle = VehiclesTab:AddToggle({
    Name = "Auto Reparar Ve√≠culo",
    Description = "Repara automaticamente o <font color='rgb(255, 200, 50)'>ve√≠culo</font> que voc√™ est√° usando",
    Default = false
})

AutoRepairToggle:Callback(function(value)
    autoRepairEnabled = value
    
    if value then
        redzlib:MakeNotification({
            Name = "Auto Repair Ativado",
            Content = "Seus ve√≠culos ser√£o reparados automaticamente",
            Time = 2
        })
        
        task.spawn(function()
            while autoRepairEnabled do
                wait(1)
                
                pcall(function()
                    if character and character:FindFirstChild("Humanoid") then
                        local seat = character.Humanoid.SeatPart
                        if seat and seat:IsA("VehicleSeat") then
                            local vehicle = seat:FindFirstAncestorOfClass("Model")
                            if vehicle then
                                for _, part in pairs(vehicle:GetDescendants()) do
                                    if part:IsA("BasePart") then
                                        part.Color = part.Color
                                        if part:FindFirstChild("Smoke") then
                                            part.Smoke:Destroy()
                                        end
                                        if part:FindFirstChild("Fire") then
                                            part.Fire:Destroy()
                                        end
                                    end
                                end
                            end
                        end
                    end
                end)
            end
        end)
    else
        redzlib:MakeNotification({
            Name = "Auto Repair Desativado",
            Content = "Auto repair foi desligado",
            Time = 2
        })
    end
end)

local InfiniteSpeedToggle = VehiclesTab:AddToggle({
    Name = "Velocidade Infinita",
    Description = "Ative <font color='rgb(255, 100, 100)'>velocidade</font> m√°xima em qualquer ve√≠culo",
    Default = false
})

InfiniteSpeedToggle:Callback(function(value)
    infiniteSpeedEnabled = value
    
    if value then
        redzlib:MakeNotification({
            Name = "Velocidade Infinita Ativada",
            Content = "Seus ve√≠culos ficar√£o super r√°pidos!",
            Time = 2
        })
        
        task.spawn(function()
            while infiniteSpeedEnabled do
                wait(0.1)
                
                pcall(function()
                    if character and character:FindFirstChild("Humanoid") then
                        local seat = character.Humanoid.SeatPart
                        if seat and seat:IsA("VehicleSeat") then
                            seat.MaxSpeed = 500
                            seat.Torque = 10000
                            seat.TurnSpeed = 10
                        end
                    end
                end)
            end
        end)
    else
        pcall(function()
            if character and character:FindFirstChild("Humanoid") then
                local seat = character.Humanoid.SeatPart
                if seat and seat:IsA("VehicleSeat") then
                    seat.MaxSpeed = 25
                    seat.Torque = 500
                    seat.TurnSpeed = 1
                end
            end
        end)
        
        redzlib:MakeNotification({
            Name = "Velocidade Normal",
            Content = "Velocidade restaurada ao normal",
            Time = 2
        })
    end
end)

-- ========================================
-- TAB CONFIGURA√á√ïES
-- ========================================
local SettingsTab = Window:MakeTab({
    Name = "Configura√ß√µes",
    Icon = "rbxassetid://7733955511",
    PremiumOnly = false
})

SettingsTab:AddSection({Name = "Sobre o Hub"})

SettingsTab:AddLabel("Dragon Hub v0.2")
SettingsTab:AddLabel("Brookhaven Edition")
SettingsTab:AddLabel(isMobile and "üì± Vers√£o Mobile" or "üíª Vers√£o PC")
SettingsTab:AddLabel("")
SettingsTab:AddLabel("Funcionalidades:")
SettingsTab:AddLabel("‚Ä¢ Sistema de Voo Brookhaven")
SettingsTab:AddLabel("‚Ä¢ Bypass Anti-Cheat")
SettingsTab:AddLabel("‚Ä¢ Velocidade Customizada")
SettingsTab:AddLabel("‚Ä¢ Pulo Aprimorado")
SettingsTab:AddLabel("‚Ä¢ Click Teleport")
SettingsTab:AddLabel("‚Ä¢ Sistema de Ve√≠culos")

SettingsTab:AddSection({Name = "Controles"})

if not isMobile then
    SettingsTab:AddBind({
        Name = "Toggle UI",
        Default = Enum.KeyCode.RightControl,
        Hold = false,
        Callback = function()
            redzlib:ToggleUI()
        end
    })
end

SettingsTab:AddButton({"Fechar Hub", function()
    if flyEnabled then
        stopFly()
    end
    if ClickTPTool then
        ClickTPTool:Destroy()
    end
    removeMobileFlyButtons()
    
    redzlib:MakeNotification({
        Name = "At√© logo!",
        Content = "Dragon Hub foi fechado.",
        Time = 2
    })
    wait(2)
    Window:Destroy()
end})

-- ========================================
-- CHARACTER RESPAWN
-- ========================================
player.CharacterAdded:Connect(function(char)
    character = char
    humanoid = character:WaitForChild("Humanoid")
    rootPart = character:WaitForChild("HumanoidRootPart")
    
    task.spawn(function()
        wait(2)
        disableBrookhavenAntiCheat()
    end)
    
    if flyEnabled then
        stopFly()
        flyEnabled = false
    end
    if speedEnabled then
        speedEnabled = false
        humanoid.WalkSpeed = 16
    end
    if jumpEnabled then
        jumpEnabled = false
        humanoid.JumpPower = 50
    end
    if ClickTPTool then
        ClickTPTool:Destroy()
        ClickTPTool = nil
    end
    
    redzlib:MakeNotification({
        Name = "Personagem Respawnado",
        Content = "Bypass reaplicado",
        Time = 3
    })
end)

-- ========================================
-- INICIALIZA√á√ÉO
-- ========================================
task.spawn(function()
    wait(1)
    showWelcomeNotification()
    
    redzlib:MakeNotification({
        Name = "Dragon Hub Carregado!",
        Content = "Brookhaven - " .. (isMobile and "Mobile üì±" or "PC üíª"),
        Time = 4
    })
end)

redzlib:Init()
